<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" class="light" lang="es">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Proyecto - SC LLAMKAY SAC</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#1193d4",
                        "background-light": "#f6f7f8",
                        "background-dark": "#101c22",
                    },
                    fontFamily: { "display": ["Manrope", "sans-serif"] },
                    borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
                },
            },
        }
    </script>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-[#111618] dark:text-gray-200">
    <div class="relative flex min-h-screen w-full flex-col items-center justify-center p-4 sm:p-6 group/design-root">
        <div aria-hidden="true" class="fixed inset-0 bg-gray-900/40 dark:bg-gray-900/60 backdrop-blur-sm"></div>

        <!-- FORMULARIO ACTUALIZADO CON THYMELEAF -->
        <form th:action="@{/proyectos/guardar}" method="post" th:object="${proyecto}"
            class="relative w-full max-w-4xl bg-white dark:bg-[#18262f] rounded-xl shadow-2xl overflow-hidden my-8">

            <div class="p-6 sm:p-8 border-b border-gray-200 dark:border-gray-700">
                <div class="flex flex-wrap justify-between items-start gap-3">
                    <div class="flex flex-col gap-1">
                        <p class="text-[#111618] dark:text-white text-2xl sm:text-3xl font-black leading-tight tracking-[-0.03em]"
                            th:text="${proyecto.idProyecto != null ? 'Editar Proyecto' : 'Nuevo Proyecto'}">Nuevo
                            Proyecto</p>
                        <p class="text-[#617c89] dark:text-gray-400 text-sm sm:text-base font-normal leading-normal">
                            Complete los detalles a continuación.</p>
                    </div>
                    <a th:href="@{/proyectos}"
                        class="p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                        <span class="material-symbols-outlined">close</span>
                    </a>
                </div>
            </div>

            <div class="p-6 sm:p-8 max-h-[calc(100vh-220px)] overflow-y-auto">
                <div class="flex flex-col gap-8">
                    <!-- Información General -->
                    <div>
                        <h3
                            class="text-[#111618] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-4">
                            Información General</h3>
                        <div class="grid grid-cols-1 gap-6">
                            <input type="hidden" th:field="*{idProyecto}" />

                            <label class="flex flex-col w-full">
                                <p class="text-[#111618] dark:text-gray-300 text-base font-medium leading-normal pb-2">
                                    Título del Proyecto</p>
                                <input th:field="*{nombre}" required
                                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111618] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe2e6] dark:border-gray-600 bg-white dark:bg-gray-800 focus:border-primary h-14 placeholder:text-[#617c89] p-[15px] text-base font-normal leading-normal transition-shadow"
                                    placeholder="Ej. Desarrollo de la nueva plataforma" />
                            </label>

                            <label class="flex flex-col w-full">
                                <p class="text-[#111618] dark:text-gray-300 text-base font-medium leading-normal pb-2">
                                    Descripción</p>
                                <textarea th:field="*{descripcion}"
                                    class="form-input flex w-full min-w-0 flex-1 resize-y overflow-hidden rounded-lg text-[#111618] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe2e6] dark:border-gray-600 bg-white dark:bg-gray-800 focus:border-primary min-h-36 placeholder:text-[#617c89] p-[15px] text-base font-normal leading-normal transition-shadow"
                                    placeholder="Ingrese una descripción detallada del proyecto"></textarea>
                            </label>
                        </div>
                    </div>

                    <!-- Planificación y Presupuesto -->
                    <div>
                        <h3
                            class="text-[#111618] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-4">
                            Planificación y Presupuesto</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <label class="flex flex-col w-full">
                                <p class="text-[#111618] dark:text-gray-300 text-base font-medium leading-normal pb-2">
                                    Fecha de Inicio</p>
                                <input th:field="*{fechaInicio}" required dir="ltr"
                                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111618] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe2e6] dark:border-gray-600 bg-white dark:bg-gray-800 focus:border-primary h-14 placeholder:text-[#617c89] p-[15px] text-base font-normal leading-normal transition-shadow"
                                    type="date" />
                            </label>
                            
                            <label class="flex flex-col w-full">
                                <p class="text-[#111618] dark:text-gray-300 text-base font-medium leading-normal pb-2">
                                    Fecha de Fin</p>
                                <input th:field="*{fechaFin}" required dir="ltr"
                                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111618] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe2e6] dark:border-gray-600 bg-white dark:bg-gray-800 focus:border-primary h-14 placeholder:text-[#617c89] p-[15px] text-base font-normal leading-normal transition-shadow"
                                    type="date" />
                            </label>

                            <label class="flex flex-col w-full">
                                <p class="text-[#111618] dark:text-gray-300 text-base font-medium leading-normal pb-2">
                                    Estado del Proyecto</p>
                                <div class="relative">
                                    <select th:field="*{estado}" required
                                        class="form-select appearance-none flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111618] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe2e6] dark:border-gray-600 bg-white dark:bg-gray-800 focus:border-primary h-14 placeholder:text-[#617c89] p-[15px] text-base font-normal leading-normal transition-shadow pr-12">
                                        <option value="Planificado">Planificado</option>
                                        <option value="En Curso">En Curso</option>
                                        <option value="Pausado">Pausado</option>
                                        <option value="Completado">Completado</option>
                                    </select>
                                </div>
                            </label>

                            <label class="flex flex-col w-full">
                                <p class="text-[#111618] dark:text-gray-300 text-base font-medium leading-normal pb-2">
                                    Cliente</p>
                                <div class="relative">
                                    <select th:field="*{cliente.idCliente}" required
                                        class="form-select appearance-none flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-[#111618] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#dbe2e6] dark:border-gray-600 bg-white dark:bg-gray-800 focus:border-primary h-14 placeholder:text-[#617c89] p-[15px] text-base font-normal leading-normal transition-shadow pr-12">
                                        <option value="">Seleccione un cliente</option>
                                        <option th:each="cliente : ${clientes}" th:value="${cliente.idCliente}"
                                            th:text="${cliente.nombre}">Cliente</option>
                                    </select>
                                </div>
                            </label>
                        </div>
                    </div>
                    <div>
                        <h3
                            class="text-[#111618] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-4">
                            Recursos</h3>
                        <div class="grid grid-cols-1 gap-6">
                            <label class="flex flex-col w-full">
                                <p class="text-[#111618] dark:text-gray-300 text-base font-medium leading-normal pb-2">
                                    Asignar Miembros del Equipo</p>
                                <div class="relative">
                                    <div
                                        class="flex items-center gap-2 flex-wrap p-2 min-h-[56px] rounded-lg border border-[#dbe2e6] dark:border-gray-600 bg-white dark:bg-gray-800">
                                        <span
                                            class="flex items-center gap-2 bg-primary/20 text-primary-800 dark:bg-primary/30 dark:text-primary-200 text-sm font-medium px-2 py-1 rounded-full">
                                            <img class="w-5 h-5 rounded-full object-cover"
                                                data-alt="Avatar de miembro del equipo 1"
                                                src="https://lh3.googleusercontent.com/aida-public/AB6AXuCPmMKpDqbCIJDJbt9oE2WiDZ3Y2fAWOFBWuYr6iGm7cuvA4U68zHQLqHTl087d5IFmtHj-_5JlXh_mwrpY3SfAMduI2affSpFYfEX8gUen3Ofzz-2IrndDDHu8n9IF001_qRXA1F1jNUIiqZPb54Y7npH0TMm_b8nH8Uny7xroNCL3OYsfI22TJE9O_0_70oZnMzmwJEOyn6E-EA0Ll5GckNcB_d3JfMq3_PsvrdTxbPT5E6NYYLiNF9mHbwlMO7IbdHim77xWp_o" />
                                            <span>Ana Torres</span>
                                            <button class="text-primary-800 dark:text-primary-200"><span
                                                    class="material-symbols-outlined text-sm">close</span></button>
                                        </span>
                                        <span
                                            class="flex items-center gap-2 bg-primary/20 text-primary-800 dark:bg-primary/30 dark:text-primary-200 text-sm font-medium px-2 py-1 rounded-full">
                                            <img class="w-5 h-5 rounded-full object-cover"
                                                data-alt="Avatar de miembro del equipo 2"
                                                src="https://lh3.googleusercontent.com/aida-public/AB6AXuDjjRXXCuC7iKuVY3PAA2nYnfg8j7-8ZIysQC0Z-4EG6sbSCg1QaAyjo-TGczppv7oZTpotC_x1pxlBAk45asyoPKj4-GY7baBoZxgT1BeBcFHGPu0IYYCd8IbN28667ueyeTP5vkoZ9b94Tpg76gTw9CkwYVb76HXYwkFLQzU_iy0RJo7oPzLoMVLSB9xpnH8YoD0bT2KE0B7BBnwhhFSMVKMaD_BZyTToIU7ylZXbgSehN4BStu69BR1wx6vDa0BxJDIr9iKH6Vs" />
                                            <span>Carlos Ruiz</span>
                                            <button class="text-primary-800 dark:text-primary-200"><span
                                                    class="material-symbols-outlined text-sm">close</span></button>
                                        </span>
                                        <input
                                            class="flex-1 min-w-[120px] bg-transparent outline-none p-2 text-base text-[#111618] dark:text-white"
                                            placeholder="Buscar miembros..." />
                                    </div>
                                </div>
                            </label>
                            <label class="flex flex-col w-full">
                                <p class="text-[#111618] dark:text-gray-300 text-base font-medium leading-normal pb-2">
                                    Archivos Adjuntos</p>
                                <div class="flex items-center justify-center w-full">
                                    <div
                                        class="flex flex-col items-center justify-center w-full h-32 border-2 border-[#dbe2e6] dark:border-gray-600 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                                        <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                            <span
                                                class="material-symbols-outlined text-4xl text-gray-500 dark:text-gray-400">cloud_upload</span>
                                            <p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span
                                                    class="font-semibold text-primary">Haz clic para subir</span> o
                                                arrastra y suelta</p>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">SVG, PNG, JPG, PDF (MAX.
                                                10MB)</p>
                                        </div>
                                        <input class="hidden" id="dropzone-file" type="file" />
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Área de Acciones (Footer) -->
                <div
                    class="flex flex-col sm:flex-row justify-end items-center gap-4 p-6 sm:p-8 bg-gray-50 dark:bg-black/20 border-t border-gray-200 dark:border-gray-700">
                    <a th:href="@{/principal}"
                        class="w-full sm:w-auto px-6 py-3 rounded-lg text-center font-semibold text-[#111618] dark:text-white bg-transparent hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                        Cancelar
                    </a>
                    <button type="submit"
                        class="w-full sm:w-auto px-6 py-3 rounded-lg text-center font-semibold text-white bg-primary hover:bg-primary/90 transition-colors shadow-sm">
                        <span th:text="${proyecto.idProyecto != null ? 'Actualizar Proyecto' : 'Crear Proyecto'}">Crear
                            Proyecto</span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</body>

</html>